{% extends "base.html" %}

{% block title %}Initial Setup - BookOracle{% endblock %}

{% block content %}
<div class="flex justify-center items-center min-h-[60vh]">
  <div class="card bg-base-100 shadow-xl w-full max-w-lg">
    <div class="card-body">
      <div class="text-center mb-6">
        <h2 class="text-2xl font-bold mb-2">üìö Welcome to BookOracle</h2>
        <p class="text-base-content/60">Initial Setup Required</p>
      </div>
      <div class="alert alert-info mb-6">
        <h4 class="font-bold mb-2">‚ÑπÔ∏è First Time Setup</h4>
        <p>
          Welcome! This appears to be your first time running BookOracle. 
          Please create an administrator account to get started.
        </p>
      </div>
      <form method="POST" class="space-y-6">
        {{ form.hidden_tag() }}
        <div>
          {{ form.username.label(class="label label-text font-semibold") }}
          {{ form.username(class="input input-bordered w-full" + (" input-error" if form.username.errors else "")) }}
          {% if form.username.errors %}
            <div class="text-error text-sm mt-1">
              {% for error in form.username.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% endif %}
          <label class="label">
            <span class="label-text-alt">This will be your administrator username</span>
          </label>
        </div>
        <div>
          {{ form.email.label(class="label label-text font-semibold") }}
          {{ form.email(class="input input-bordered w-full" + (" input-error" if form.email.errors else "")) }}
          {% if form.email.errors %}
            <div class="text-error text-sm mt-1">
              {% for error in form.email.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% endif %}
          <label class="label">
            <span class="label-text-alt">Administrator email address</span>
          </label>
        </div>
        <div>
          {{ form.password.label(class="label label-text font-semibold") }}
          {{ form.password(class="input input-bordered w-full" + (" input-error" if form.password.errors else "")) }}
          {% if form.password.errors %}
            <div class="text-error text-sm mt-1">
              {% for error in form.password.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% endif %}
          <div class="alert alert-info mt-2">
            <h4 class="font-bold mb-2">üîí Password Requirements:</h4>
            <ul class="list-disc list-inside text-sm">
              <li>At least 12 characters long</li>
              <li>Contains at least one uppercase letter (A-Z)</li>
              <li>Contains at least one lowercase letter (a-z)</li>
              <li>Contains at least one number (0-9)</li>
              <li>Contains at least one special character (!@#$%^&*()_+-=[]{};':"\\|,.<>/?)</li>
            </ul>
          </div>
        </div>
        <div>
          {{ form.password2.label(class="label label-text font-semibold") }}
          {{ form.password2(class="input input-bordered w-full" + (" input-error" if form.password2.errors else "")) }}
          {% if form.password2.errors %}
            <div class="text-error text-sm mt-1">
              {% for error in form.password2.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% endif %}
        </div>
        <div>
          {{ form.submit(class="btn btn-primary btn-lg w-full") }}
        </div>
      </form>
      <div class="alert alert-success mt-6">
        <h4 class="font-bold mb-2">‚úÖ After Setup</h4>
        <p>
          Once you complete this setup, you'll be able to log in as an administrator 
          and start adding books to your library. You can create additional user accounts 
          from the admin panel.
        </p>
      </div>
    </div>
  </div>
</div>
{% endblock %}
